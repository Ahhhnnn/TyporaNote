# 数据库相关面试题

## **Innodb和MySIAM**区别

- MyISAM类型不支持事务处理等高级处理，而InnoDB类型支持。MyISAM类型的表强调的是性能，其执行数度比InnoDB类型更快，但是不提供事务支持，而InnoDB提供事务支持以及外部键等高级数据库功能
- InnoDB 中不保存表的具体行数，每次select count(*)会扫描整个表
- DELETE FROM table时，InnoDB不会重新建立表，而是一行一行的删除



## 数据库死锁

表级锁：开销小，加锁快；不会出现死锁；锁定粒度大，发生锁冲突的概率最高,并发度最低。

行级锁：开销大，加锁慢；会出现死锁；锁定粒度最小，发生锁冲突的概率最低,并发度也最高。

页面锁：开销和加锁时间界于表锁和行锁之间；会出现死锁；锁定粒度界于表锁和行锁之间，并发度一般

### 死锁

死锁的关键在于**：两个(****或以上)****的Session****加锁的顺序****不一致。**

那么对应的解决死锁问题的关键就是：让不同的session加锁有次序

当一个会话，锁住了一行记录后，再去请求其他行记录，如果这一行记录被其他会话锁住了，互相等待对方释放锁，那么就会出现死锁。

指定获取锁的顺序，或者直接将所有需要用到的数据直接锁住。





